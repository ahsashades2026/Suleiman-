<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØªØ¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒ - Ø±ÙˆØ§Ø¨ÙŠ Ø§Ù„Ø£Ø­Ø³Ø§Ø¡</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header (Ù†ÙØ³ header index.html) -->
    <header class="main-header">
        <div class="header-top">
            <div class="container">
                <div class="header-contact">
                    <a href="tel:0544459478"><i class="fas fa-phone"></i> 0544459478</a>
                    <a href="mailto:suliman77064@gmail.com"><i class="fas fa-envelope"></i> suliman77064@gmail.com</a>
                </div>
                <div class="header-social">
                    <a href="https://wa.me/966544459478" target="_blank"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
        
        <div class="main-nav">
            <div class="container nav-container">
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <a href="index.html" class="logo">
                    <div class="logo-placeholder">
                        <div class="logo-icon">ğŸ—ï¸</div>
                    </div>
                    <div class="logo-text">
                        <h1>Ø±ÙˆØ§Ø¨ÙŠ Ø§Ù„Ø£Ø­Ø³Ø§Ø¡</h1>
                        <p>ØªØªØ¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒ</p>
                    </div>
                </a>
                
                <div class="nav-links">
                    <a href="index.html"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    <a href="index.html#services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
                    <a href="index.html#gallery">Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</a>
                    <a href="index.html#contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                </div>
                
                <div class="nav-icons">
                    <a href="index.html" class="home-icon" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
                        <i class="fas fa-home"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Tracking Section -->
    <section class="tracking-section" style="padding: 140px 0 80px;">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-truck"></i> ØªØªØ¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒ
                </h2>
                <p class="section-subtitle">ØªØ§Ø¨Ø¹ Ø­Ø§Ù„Ø© Ø·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø§Ø±ÙŠØ©</p>
            </div>
            
            <div class="tracking-container">
                <!-- Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« -->
                <div class="search-tracking">
                    <div class="search-box" style="max-width: 500px; margin: 0 auto 40px;">
                        <input type="text" id="trackingSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ø§Ø³Ù…Ùƒ...">
                        <button onclick="searchOrder()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ -->
                <div class="order-status-guide" style="background: var(--light-gray); padding: 20px; border-radius: var(--radius-lg); margin-bottom: 40px;">
                    <h4 style="color: var(--primary); margin-bottom: 15px;">Ø¯Ù„ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:</h4>
                    <div class="status-steps">
                        <div class="status-step active">
                            <div class="step-icon"><i class="fas fa-clipboard-check"></i></div>
                            <span>ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</span>
                        </div>
                        <div class="status-step">
                            <div class="step-icon"><i class="fas fa-pencil-ruler"></i></div>
                            <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…</span>
                        </div>
                        <div class="status-step">
                            <div class="step-icon"><i class="fas fa-tools"></i></div>
                            <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°</span>
                        </div>
                        <div class="status-step">
                            <div class="step-icon"><i class="fas fa-check-circle"></i></div>
                            <span>Ù…ÙƒØªÙ…Ù„</span>
                        </div>
                    </div>
                </div>
                
                <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
                <div class="orders-list" id="ordersList">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
                
                <!-- Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø·Ù„Ø¨Ø§Øª -->
                <div class="no-orders" id="noOrders" style="display: none; text-align: center; padding: 60px 20px;">
                    <i class="fas fa-box-open" style="font-size: 60px; color: var(--gray); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--dark); margin-bottom: 15px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</h3>
                    <p style="color: var(--gray-dark); margin-bottom: 30px;">Ù„Ù… ØªÙ‚Ù… Ø¨ØªÙ‚Ø¯ÙŠÙ… Ø£ÙŠ Ø·Ù„Ø¨ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
                    <a href="index.html" class="cta-button primary">
                        <i class="fas fa-th-large"></i> ØªØµÙØ­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <div class="copyright">
                    <p>Â© 2024 Ø±ÙˆØ§Ø¨ÙŠ Ø§Ù„Ø£Ø­Ø³Ø§Ø¡ - ØµÙØ­Ø© ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>
                    <p>Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ«Ø§Øª ÙÙˆØ±ÙŠØ© Ø¹Ù† Ø·Ù„Ø¨Ø§ØªÙƒØŒ Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ø¹Ù„Ù‰: 0544459478</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Float -->
    <a href="https://wa.me/966544459478?text=Ø£Ø±ÙŠØ¯%20Ø§Ø³ØªÙØ³Ø§Ø±%20Ø¹Ù†%20Ø­Ø§Ù„Ø©%20Ø·Ù„Ø¨ÙŠ" 
       class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- JavaScript -->
    <script>
        // Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        function loadOrders() {
            const orders = JSON.parse(localStorage.getItem('orderHistory')) || [];
            const ordersList = document.getElementById('ordersList');
            const noOrders = document.getElementById('noOrders');
            
            if (orders.length === 0) {
                ordersList.style.display = 'none';
                noOrders.style.display = 'block';
                return;
            }
            
            noOrders.style.display = 'none';
            ordersList.style.display = 'block';
            
            ordersList.innerHTML = orders.map(order => `
                <div class="order-card" style="background: var(--white); border-radius: var(--radius-lg); padding: 25px; margin-bottom: 20px; box-shadow: var(--shadow);">
                    <div class="order-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--gray);">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 5px;">Ø·Ù„Ø¨ Ø±Ù‚Ù…: ${order.orderNumber}</h4>
                            <p style="color: var(--gray-dark); font-size: 14px;">
                                <i class="fas fa-calendar"></i> ${order.date}
                            </p>
                        </div>
                        <span class="order-status ${getStatusClass(order.status)}" style="background: ${getStatusColor(order.status)}; color: white; padding: 5px 15px; border-radius: var(--radius-xl); font-size: 14px; font-weight: 600;">
                            ${getStatusText(order.status)}
                        </span>
                    </div>
                    
                    <div class="order-details" style="margin-bottom: 20px;">
                        <p style="margin-bottom: 8px;"><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.name}</p>
                        <p style="margin-bottom: 8px;"><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.phone}</p>
                        <p style="margin-bottom: 8px;"><strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</strong> ${order.city}</p>
                        <p style="margin-bottom: 8px;"><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${order.address}</p>
                        <p style="margin-bottom: 8px;"><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> ${order.total.toLocaleString()} Ø±.Ø³</p>
                    </div>
                    
                    <div class="order-items" style="margin-bottom: 20px;">
                        <h5 style="color: var(--dark); margin-bottom: 10px;">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h5>
                        ${order.cart.map(item => `
                            <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed var(--gray);">
                                <span>${item.name}</span>
                                <span>${item.quantity} Ã— ${item.price.toLocaleString()} Ø±.Ø³</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="order-actions" style="display: flex; gap: 10px;">
                        <button onclick="contactAboutOrder('${order.orderNumber}')" 
                                style="flex: 1; padding: 10px; background: var(--primary); color: white; border: none; border-radius: var(--radius); cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <i class="fas fa-phone"></i> Ø§Ø³ØªÙØ³Ø± Ø¹Ù† Ø§Ù„Ø·Ù„Ø¨
                        </button>
                        <button onclick="printOrder('${order.orderNumber}')" 
                                style="flex: 1; padding: 10px; background: var(--light-gray); color: var(--dark); border: 1px solid var(--gray); border-radius: var(--radius); cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø©
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø·Ù„Ø¨
        function searchOrder() {
            const searchTerm = document.getElementById('trackingSearch').value.toLowerCase();
            const orders = JSON.parse(localStorage.getItem('orderHistory')) || [];
            
            if (!searchTerm.trim()) {
                loadOrders();
                return;
            }
            
            const filteredOrders = orders.filter(order => 
                order.orderNumber.toLowerCase().includes(searchTerm) ||
                order.name.toLowerCase().includes(searchTerm) ||
                order.phone.includes(searchTerm)
            );
            
            const ordersList = document.getElementById('ordersList');
            const noOrders = document.getElementById('noOrders');
            
            if (filteredOrders.length === 0) {
                ordersList.style.display = 'none';
                noOrders.style.display = 'block';
                noOrders.innerHTML = `
                    <i class="fas fa-search" style="font-size: 60px; color: var(--gray); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--dark); margin-bottom: 15px;">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª</h3>
                    <p style="color: var(--gray-dark); margin-bottom: 30px;">Ø¬Ø±Ø¨ Ø±Ù‚Ù… Ø·Ù„Ø¨ Ø£Ùˆ Ø§Ø³Ù… Ù…Ø®ØªÙ„Ù</p>
                    <button onclick="loadOrders()" class="cta-button secondary">
                        <i class="fas fa-redo"></i> Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                    </button>
                `;
            } else {
                noOrders.style.display = 'none';
                ordersList.style.display = 'block';
                ordersList.innerHTML = filteredOrders.map(order => `
                    <!-- Ù†ÙØ³ ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚ -->
                `).join('');
            }
        }
        
        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        function getStatusText(status) {
            const statusMap = {
                'pending': 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',
                'confirmed': 'Ù…Ø¤ÙƒØ¯',
                'designing': 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…',
                'installing': 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ¨',
                'completed': 'Ù…ÙƒØªÙ…Ù„',
                'delivered': 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…'
            };
            return statusMap[status] || status;
        }
        
        function getStatusColor(status) {
            const colorMap = {
                'pending': '#FFC107',
                'confirmed': '#17A2B8',
                'designing': '#007BFF',
                'installing': '#6610F2',
                'completed': '#28A745',
                'delivered': '#6F42C1'
            };
            return colorMap[status] || '#6C757D';
        }
        
        function getStatusClass(status) {
            return status;
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®ØµÙˆØµ Ø·Ù„Ø¨
        function contactAboutOrder(orderNumber) {
            const message = `Ø£Ø³ØªÙØ³Ø± Ø¹Ù† Ø·Ù„Ø¨ÙŠ Ø±Ù‚Ù…: ${orderNumber}`;
            const whatsappURL = `https://wa.me/966544459478?text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');
        }
        
        // Ø¯Ø§Ù„Ø© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨
        function printOrder(orderNumber) {
            const orders = JSON.parse(localStorage.getItem('orderHistory')) || [];
            const order = orders.find(o => o.orderNumber === orderNumber);
            
            if (!order) {
                alert('Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
                return;
            }
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html dir="rtl">
                <head>
                    <title>ÙØ§ØªÙˆØ±Ø© ${orderNumber}</title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
                        .header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #8B4513; }
                        .logo { font-size: 24px; font-weight: bold; color: #8B4513; margin-bottom: 10px; }
                        .invoice-details { margin-bottom: 30px; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: right; }
                        th { background: #f8f9fa; }
                        .total { font-size: 18px; font-weight: bold; color: #8B4513; margin-top: 20px; }
                        @media print { button { display: none; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="logo">Ø±ÙˆØ§Ø¨ÙŠ Ø§Ù„Ø£Ø­Ø³Ø§Ø¡</div>
                        <h2>ÙØ§ØªÙˆØ±Ø© Ø·Ù„Ø¨ Ø±Ù‚Ù…: ${orderNumber}</h2>
                        <p>${order.date}</p>
                    </div>
                    
                    <div class="invoice-details">
                        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.name}</p>
                        <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.phone}</p>
                        <p><strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</strong> ${order.city}</p>
                        <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${order.address}</p>
                        <p><strong>Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:</strong> ${getStatusText(order.status)}</p>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
                                <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                <th>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th>
                                <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${order.cart.map((item, index) => `
                                <tr>
                                    <td>${index + 1}</td>
                                    <td>${item.name}</td>
                                    <td>${item.quantity}</td>
                                    <td>${item.price.toLocaleString()} Ø±.Ø³</td>
                                    <td>${(item.price * item.quantity).toLocaleString()} Ø±.Ø³</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    
                    <div class="total">
                        <p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ: ${(order.total / 1.15).toLocaleString()} Ø±.Ø³</p>
                        <p>Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© (15%): ${(order.total * 0.15 / 1.15).toLocaleString()} Ø±.Ø³</p>
                        <p style="font-size: 20px;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${order.total.toLocaleString()} Ø±.Ø³</p>
                    </div>
                    
                    <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 14px; color: #666;">
                        <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ø±ÙˆØ§Ø¨ÙŠ Ø§Ù„Ø£Ø­Ø³Ø§Ø¡</p>
                        <p>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: 0544459478</p>
                    </div>
                    
                    <button onclick="window.print()" style="margin-top: 20px; padding: 10px 20px; background: #8B4513; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©
                    </button>
                    
                    <script>
                        window.onload = function() {
                            window.print();
                        }
                    </script>
                </body>
                </html>
            `);
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', loadOrders);
        
        // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
        document.getElementById('trackingSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchOrder();
            }
        });
    </script>
</body>
</html>
